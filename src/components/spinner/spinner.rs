use super::styles::*;
use crate::components::{_shared::prelude::*, provider::tailwind::use_theme_context};
use leptos::prelude::*;

#[component]
pub fn Spinner(
    #[prop(optional, default = Class::new().light(SpinnerStyle::md()))] class: Class,
    #[prop(optional)] sr_text: Option<String>,
) -> impl IntoView {
    view! {
        <div role="status">
            <svg
                aria-hidden="true"
                class=class.create()
                viewBox="0 0 100 101"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    d="M100 50.5908C100 78.2051 77.6142 100.591 50
                    100.591C22.3858 100.591 0 78.2051 0 
                    50.5908C0 22.9766 22.3858 0.59082 50 
                    0.59082C77.6142 0.59082 100 22.9766 100 
                    50.5908ZM9.0816 50.5908C9.0816 73.1895 27.4013 
                    91.5092 50 91.5092C72.5987 91.5092 90.9184 
                    73.1895 90.9184 50.5908C90.9184 27.9921 72.5987 
                    9.67236 50 9.67236C27.4013 9.67236 9.0816 
                    27.9921 9.0816 50.5908Z"
                    fill="currentColor"
                />
                <path
                    d="M93.9676 39.0409C96.393 38.4038
                    97.8624 35.9116 97.0079 
                    33.5538C95.2932 28.8227 92.871 24.3692 
                    89.8167 20.348C85.8452 15.1192 80.8826 
                    10.7238 75.2124 7.41289C69.5422 4.10194 
                    63.2754 1.94025 56.7221 1.05124C51.7666 
                    0.367541 46.7499 0.446843 41.8197 
                    1.27873C39.3866 1.69328 37.9172 
                    4.19778 38.5543 6.62326C39.1914 9.04874 
                    41.6735 10.4717 44.1132 10.1071C47.8519 
                    9.53816 51.6513 9.5267 55.4015 
                    10.0759C60.8642 10.8406 66.1388 12.6731 
                    70.9056 15.4649C75.6725 18.2567 79.8497 
                    21.9612 83.1475 26.3601C85.5401 29.4334 
                    87.5026 32.829 88.9636 36.4571C89.8412 
                    38.799 91.5422 39.6781 93.9676 
                    39.0409Z"
                    fill="currentFill"
                />
            </svg>
            <span class="sr-only">{sr_text.unwrap_or_else(|| "Loading...".into())}</span>
        </div>
    }
}
